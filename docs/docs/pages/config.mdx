# Configuration Reference

## `sequoia.json`

| Field | Type | Required | Default | Description |
|-------|------|----------|---------|-------------|
| `siteUrl` | `string` | Yes | - | Base URL of your website |
| `contentDir` | `string` | Yes | - | Directory containing blog post files |
| `publicationUri` | `string` | Yes | - | AT-URI of your publication record |
| `imagesDir` | `string` | No | - | Directory containing cover images |
| `publicDir` | `string` | No | `"./public"` | Static folder for `.well-known` files |
| `outputDir` | `string` | No | - | Built output directory for inject command |
| `pathPrefix` | `string` | No | `"/posts"` | URL path prefix for posts |
| `pdsUrl` | `string` | No | `"https://bsky.social"` | PDS server URL, generated automatically |
| `identity` | `string` | No | - | Which stored identity to use |
| `frontmatter` | `object` | No | - | Custom frontmatter field mappings |
| `ignore` | `string[]` | No | - | Glob patterns for files to ignore |
| `bluesky` | `object` | No | - | Bluesky posting configuration |
| `bluesky.enabled` | `boolean` | No | `false` | Post to Bluesky when publishing documents |
| `bluesky.maxAgeDays` | `number` | No | `30` | Only post documents published within this many days |

### Example

```json
{
  "siteUrl": "https://example.com",
  "contentDir": "content/posts",
  "imagesDir": "src/assets",
  "publicDir": "public",
  "outputDir": "dist",
  "pathPrefix": "/posts",
  "publicationUri": "at://did:plc:kq6bvkw4sxof3vdinuitehn5/site.standard.publication/3mdlavhxjhm2v",
  "pdsUrl": "https://andromeda.social",
  "frontmatter": {
    "publishDate": "date"
  },
  "ignore": ["_index.md"],
  "bluesky": {
    "enabled": true,
    "maxAgeDays": 30
  }
}
```

## Post Frontmatter

| Field | Type | Required | Default Mapping | Description |
|-------|------|----------|-----------------|-------------|
| `title` | `string` | Yes | `"title"` | Post title |
| `description` | `string` | No | `"description"` | Post description/summary |
| `publishDate` | `string` | Yes | `"publishDate"`, `"pubDate"`, `"date"`, `"createdAt"`, `"created_at"` | Publication date |
| `coverImage` | `string` | No | `"ogImage"` | Cover image filename |
| `tags` | `string[]` | No | `"tags"` | Post tags/categories |
| `draft` | `boolean` | No | `"draft"` | If `true`, post is skipped during publish |

### Example

```yaml
---
title: My First Post
description: An introduction to my blog
publishDate: 2024-01-15
ogImage: cover.jpg
tags: [welcome, intro]
draft: false
---
```

### Custom Frontmatter Mapping

Override default field names in `sequoia.json`:

```json
{
  "frontmatter": {
    "publishDate": "date",
    "coverImage": "thumbnail",
    "draft": "private"
  }
}
```

### Ignoring Files

Some frameworks use special files like `_index.md` (Zola) for section pages that aren't actual blog posts. Use the `ignore` field to skip these files during publishing:

```json
{
  "ignore": ["_index.md", "**/drafts/**"]
}
```

Patterns use glob syntax and are matched against relative paths from `contentDir`.
