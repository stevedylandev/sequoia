# CLI Reference

## `login`

```bash [Terminal]
sequoia login
> Login with OAuth (browser-based authentication)

OPTIONS:
  --logout <str> - Remove OAuth session for a specific DID [optional]

FLAGS:
  --list     - List all stored OAuth sessions [optional]
  --help, -h - show help [optional]
```

OAuth is the recommended authentication method as it scopes permissions and refreshes tokens automatically. 

## `auth`

```bash [Terminal]
sequoia auth
> Authenticate with your ATProto PDS using an app password

OPTIONS:
  --logout <str> - Remove credentials for a specific identity (or all if only one exists) [optional]

FLAGS:
  --list     - List all stored identities [optional]
  --help, -h - show help [optional]
```

Use this as an alternative to `login` when OAuth isn't available or for CI environments.

## `init`

```bash [Terminal]
sequoia init
> Initialize a new publisher configuration

FLAGS:
  --help, -h - show help [optional]
```

## `publish`

```bash [Terminal]
sequoia publish
> Publish content to ATProto

FLAGS:
  --force, -f   - Force publish all posts, ignoring change detection [optional]
  --dry-run, -n - Preview what would be published without making changes [optional]
  --help, -h    - show help [optional]
```

## `inject`

```bash [Terminal]
sequoia inject
> Inject site.standard.document link tags into built HTML files

OPTIONS:
  --output, -o <str> - Output directory to scan for HTML files [optional]

FLAGS:
  --dry-run, -n - Preview what would be injected without making changes [optional]
  --help, -h    - show help [optional]
```

## `sync`

```bash [Terminal]
sequoia sync
> Sync state from ATProto to restore .sequoia-state.json

FLAGS:
  --update-frontmatter, -u - Update frontmatter atUri fields in local markdown files [optional]
  --dry-run, -n            - Preview what would be synced without making changes [optional]
  --help, -h               - show help [optional]
```

## `update`

```bash [Terminal]
sequoia update
> Update local config or ATProto publication record

FLAGS:
  --help, -h - show help [optional]
```

Interactive command to modify your existing configuration. Choose between:

- **Local configuration**: Edit `sequoia.json` settings including site URL, directory paths, frontmatter mappings, advanced options, and Bluesky settings
- **ATProto publication**: Update your publication record's name, description, URL, icon, and discover visibility
